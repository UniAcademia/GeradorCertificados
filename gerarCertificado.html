<!doctype html>

<head>
    <title>Gerador de Certificados</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="bootstrap-4.5.2-dist\css\bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="bootstrap-4.5.2-dist\css\text-respossive.css" rel="stylesheet">
    <link href="bootstrap-4.5.2-dist\css\font.css" rel="stylesheet">
    <link href="bootstrap-4.5.2-dist\css\login.css" rel="stylesheet">
    <link href="bootstrap-4.5.2-dist\css\checkbox.css" rel="stylesheet">
</head>
<script type="text/javascript">
    function gerarCertificado(){
      const canvas = document.getElementById("canvas");
      var context = canvas.getContext("2d");
      var imageObj = new Image();
      var nomeCanva = document.getElementById("inputNome").value;
      var documentoCanva = document.getElementById("inputDocumento").value;
      var imagemCanva = document.getElementById("inputGroupFileAss").value;
      imageObj.onload = function(){
          context.drawImage(imageObj, 0, 0);
          context.font = "36pt Calibri";
          context.fillStyle = "#d7e8ee";
          context.fillText("CERTIFICADO DE CURSO", 575, 255);
          context.font = "38pt Arial";
          context.fillText("Certificamos que o Aluno", 530, 490);
          context.font = "32pt Arial";
          context.fillText(nomeCanva, 670, 560);
          context.font = "38pt Arial";
          context.fillText("Participou do curso de", 520, 640);
          context.fillText(documentoCanva, 1037, 640);
          context.drawImage(imagemCanva,596,976,200,150);
      }
      imageObj.src = "template2.png"; 
      }
  </script>

<body>
    <div><label>&nbsp;</label></div>
    <nav class="navbar navbar-light" width="80%">
        <a class="navbar-brand" href="index.html">
            <img src="Imagens\logo.png" width=" 80%" height="auto">
        </a>
    </nav>

    <div><label>&nbsp;</label></div>
    <h4 class="card-title, text-center"><strong>Selecione um de nossos modelos</strong></h4>
    <div><label>&nbsp;</label></div>


    <form method='post' class="container">
        <fieldset class="radio-image">
            <label for="M1">
                <input type="radio" name="modelo" id="M1" value="M">
                <img src="Imagens\modelo 1.png" alt="modelo1">
            </label>
            <label for="M2">
                <input type="radio" name="modelo" id="M2" value="M2">
                <img src="Imagens\modelo 1.png" alt="modelo2">
            </label>
            <label for="M3">
                <input type="radio" name="modelo" id="M3" value="M3">
                <img src="Imagens\modelo 1.png" alt="modelo3">
            </label>

            <h4 class="card-title, text-center"><strong>ou</strong></h4>

            <div style="width: 25rem; height: 20rem;">
                <div class="custom-file">
                    <input type="file" class="custom-file-input, file-button" id="inputGroupFile">
                    <label class="custom-file-label" for="inputGroupFile">Escolha o modelo do certificado</label>
                    <input class="file-chooser" type="file" accept="image/*" hidden>

                </div>
                <div class="text-left">
                    <label for="M4">
                        <input type="radio" name="modelo" id="M4" value="M4">
                        <img class="preview-img" style="width: 25rem; height: 15rem;">
                    </label>
                </div>
            </div>
        </fieldset>

        <div style="width: 25rem; height: 20rem;">
            <div class="custom-file">
                <input type="file" class="custom-file-input, file-buttonAss" id="inputGroupFileAss">
                <label class="custom-file-label" for="inputGroupFileAss">Escolha a assinatura</label>
                <input class="file-chooserAss" type="file" accept="image/*" hidden>

            </div>
            <div class="text-left">
                <img class="preview-imgAss" style="width: 25rem; height: 15rem;">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 .col-md-offset-3">
                <input type="text" class="form-control" id="inputNome" placeholder="Gerar certificado para ?" required>
            </div>
            <div class="col-md-6 .col-md-offset-3">
                <input type="text" class="form-control" id="inputDocumento" placeholder="Documento" required>
            </div>
        </div>

        <div><label>&nbsp;</label></div>
        <button class="btn btn-lg btn-primary btn-block" value="send" type="submit" onclick="gerarCertificado(); return false">Gerar certificado</button>
        <div><label>&nbsp;</label></div>

    </form>

        <canvas id='canvas' width= 1600px; height= 1150px;> // alterar tamanho imagem
        </canvas>
         
        
    <nav class="navbar navbar-light bg-light">

        <label></label>

        <figure class="">
            <img src="Imagens\logoRodape.png" width="25%" class="figure-img img-fluid rounded, rounded mx-auto d-block"
                alt="...">
            <figcaption class="figure-caption text-center">Todos os direitos reservados Â® Gerador de Certificados
            </figcaption>

        </figure>

        <label></label>
    </nav>

</body>

<script>
    const $ = document.querySelector.bind(document);

    const previewImg = $('.preview-img');
    const fileChooser = $('.file-chooser');
    const fileButton = $('.file-button');

    fileButton.onclick = () => fileChooser.click();

    fileChooser.onchange = e => {
        const fileToUpload = e.target.files.item(0);
        const reader = new FileReader();
        reader.onload = e => previewImg.src = e.target.result;
        reader.readAsDataURL(fileToUpload);
    };

    const previewImgAss = $('.preview-imgAss');
    const fileChooserAss = $('.file-chooserAss');
    const fileButtonAss = $('.file-buttonAss');

    fileButtonAss.onclick = () => fileChooserAss.click();

    fileChooserAss.onchange = e => {
        const fileToUpload = e.target.files.item(0);
        const reader = new FileReader();
        reader.onload = e => previewImgAss.src = e.target.result;
        reader.readAsDataURL(fileToUpload);
    };
    

</script>


</html>